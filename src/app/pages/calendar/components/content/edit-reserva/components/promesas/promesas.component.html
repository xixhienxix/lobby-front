<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th class="header-align-right" mat-header-cell *matHeaderCellDef>
          <td class="header-align-right" mat-cell *matCellDef="let row">
          <button 
          [disabled]="row.Aplicado"
          (click)="eliminarPromesa(row._id)"
          class="btn btn-danger">
              x
          </button>
        </td>
      </ng-container>

      <!-- Fecha Column -->
      <ng-container matColumnDef="_id">
        <th mat-header-cell hidden *matHeaderCellDef mat-sort-header> _id </th>
        <td mat-cell hidden *matCellDef="let row"> {{row._id}} </td>
      </ng-container>

      <!-- Color Column -->
      <ng-container matColumnDef="Color">
        <th mat-header-cell hidden *matHeaderCellDef mat-sort-header> Color </th>
        <td mat-cell hidden *matCellDef="let row"> {{row.Color}} </td>
      </ng-container>

      <!-- ColorAplicado Column -->
      <ng-container matColumnDef="ColorAplicado">
        <th mat-header-cell hidden *matHeaderCellDef mat-sort-header> ColorAplicado </th>
        <td mat-cell hidden *matCellDef="let row"> {{row.ColorAplicado}} </td>
      </ng-container> 

      <!-- Fecha Column -->
      <ng-container matColumnDef="Fecha">
        <th mat-header-cell  *matHeaderCellDef mat-sort-header> Fecha </th>
        <td  mat-cell *matCellDef="let row"> 
          <div [innerHTML]="formatDate(row.Fecha)"></div>
        </td>
      </ng-container>

      <!-- Cantidad Column -->
      <ng-container matColumnDef="Cantidad">
        <th mat-header-cell  *matHeaderCellDef mat-sort-header> Cantidad </th>
        <td mat-cell *matCellDef="let row">$ {{row.Cantidad.toLocaleString("es-MX")}}.00 </td>
      </ng-container>

      <ng-container hidden matColumnDef="Estatus">
        <th mat-header-cell  *matHeaderCellDef mat-sort-header> Estatus </th>
        <td style="margin-top: 20%; display: flex; color: white; font-weight: bold; justify-content: center;" 
        [style.background]="row.Color"
        at-cell *matCellDef="let row"> {{row.Expirado}} </td>
      </ng-container>

      <!-- Aplicar PAgo Column -->
      <ng-container hidden matColumnDef="Accion">
        <th mat-header-cell  *matHeaderCellDef mat-sort-header> Accion </th>
        <td mat-cell  *matCellDef="let row"> 
          <ng-container *ngIf="row.Aplicado===false">
            <button 
              (click)="estatusAplicado(row)" 
              style="background-color: #FBCF67;"
              class="btn btn-info">
                <i  class="fa fa-check" aria-hidden="false"></i>
            </button>
            </ng-container>
            <ng-container *ngIf="row.Aplicado">
              <button 
              (click)="estatusAplicado(row)" 
              style="background-color: #319DD7;"
              class="btn btn-info">
                <i class="fa fa-eye" aria-hidden="true"></i>
            </button>
          </ng-container>          
         </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No se encontraron datos</td>
      </tr>

    </table>
  
  </div>